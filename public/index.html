<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>لوحة تحكم الموارد البشرية</title>
    <link href="./style.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <h1><i class="fas fa-chart-line"></i> لوحة تحكم الموارد البشرية</h1>
            <div class="header-controls">
            <div id="server-status" style="margin-left: 15px; font-weight: bold;">
                <i class="fas fa-circle"></i> فحص الاتصال...
            </div>
            <button id="addEmployeeBtn" class="btn btn-primary">
                <i class="fas fa-user-plus"></i>
                إضافة موظف
            </button>
            <button id="exportBtn" class="btn btn-secondary">
                <i class="fas fa-download"></i>
                تصدير التقرير
            </button>
        </div>
        </header>

        <!-- Filters -->
        <div class="filters-section">
            <div class="filter-group">
                <label>من تاريخ:</label>
                <input type="date" id="dateFrom" class="filter-input">
            </div>
            <div class="filter-group">
                <label>إلى تاريخ:</label>
                <input type="date" id="dateTo" class="filter-input">
            </div>
            <div class="filter-group">
                <label>القسم:</label>
                <select id="departmentFilter" class="filter-input">
                    <option value="">جميع الأقسام</option>
                    <option value="الموارد البشرية">الموارد البشرية</option>
                    <option value="المحاسبة والمالية">المحاسبة والمالية</option>
                    <option value="الإدارة العامة">الإدارة العامة</option>
                    <option value="التأمين والمخاطر">التأمين والمخاطر</option>
                    <option value="المبيعات والتسويق">المبيعات والتسويق</option>
                    <option value="تكنولوجيا المعلومات">تكنولوجيا المعلومات</option>
                    <option value="تطوير البرمجيات">تطوير البرمجيات</option>
                    <option value="أمن المعلومات">أمن المعلومات</option>
                    <option value="تطوير التطبيقات">تطوير التطبيقات</option>
                    <option value="الذكاء الاصطناعي">الذكاء الاصطناعي</option>
                </select>
            </div>
            <button id="applyFilters" class="btn btn-primary">تطبيق الفلاتر</button>
        </div>

        <!-- قسم رفع الملفات -->
        <div class="file-upload-section">
            <h3><i class="fas fa-cloud-upload-alt"></i> رفع الملفات</h3>
            <div class="upload-controls">
                <div class="upload-group">
                    <label>رقم الموظف:</label>
                    <input type="number" id="employeeIdForUpload" placeholder="أدخل رقم الموظف" class="filter-input">
                </div>
                <div class="upload-group">
                    <label>نوع الملف:</label>
                    <select id="fileType" class="filter-input">
                        <option value="photo">صورة الموظف</option>
                        <option value="resume">السيرة الذاتية</option>
                        <option value="contract">عقد العمل</option>
                        <option value="certificate">شهادة</option>
                        <option value="document">مستند آخر</option>
                    </select>
                </div>
                <div class="upload-group">
                    <label>اختر الملف:</label>
                    <input type="file" id="fileInput" accept="image/*,application/pdf,.doc,.docx" class="file-input">
                </div>
                <button id="uploadFileBtn" class="btn btn-success">
                    <i class="fas fa-upload"></i> رفع الملف
                </button>
            </div>
        </div>

        <!-- KPIs Section -->
        <div class="kpis-section">
            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="kpi-content">
                    <h3>إجمالي الموظفين</h3>
                    <div class="kpi-value" id="totalEmployees">0</div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-sync-alt"></i>
                </div>
                <div class="kpi-content">
                    <h3>معدل دوران الموظفين</h3>
                    <div class="kpi-value" id="turnoverRate">0%</div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-calendar-times"></i>
                </div>
                <div class="kpi-content">
                    <h3>نسبة الغياب</h3>
                    <div class="kpi-value" id="absenceRate">0%</div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="kpi-content">
                    <h3>متوسط سنوات الخبرة</h3>
                    <div class="kpi-value" id="avgExperience">0</div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-container">
                <h3>توزيع الموظفين حسب الأقسام</h3>
                <canvas id="departmentChart"></canvas>
            </div>

            <div class="chart-container">
                <h3>توزيع المؤهلات التعليمية</h3>
                <canvas id="educationChart"></canvas>
            </div>

            <div class="chart-container wide">
                <h3>معدل التوظيف الشهري</h3>
                <canvas id="hiringTrendChart"></canvas>
            </div>

            <div class="chart-container">


        <!-- Detailed Department Stats -->
        <div class="detailed-stats-section">
            <h3>إحصائيات تفصيلية للأقسام</h3>
            <div class="department-cards-grid" id="departmentCardsGrid">
                <!-- سيتم ملء البيانات عبر JavaScript -->
            </div>
        </div>

                <h3>التوزيع العمري للموظفين</h3>
                <canvas id="ageDistributionChart"></canvas>
            </div>

            <div class="chart-container">
                <h3>نسبة الجنس</h3>
                <canvas id="genderChart"></canvas>
            </div>
        </div>

        <!-- Data Table -->
        <div class="table-section">
            <h3>بيانات الموظفين التفصيلية</h3>
            <div class="table-container">
                <table id="employeesTable">
                    <thead>
                        <tr>
                            <th>الاسم</th>
                            <th>القسم</th>
                            <th>المنصب</th>
                            <th>تاريخ التوظيف</th>
                            <th>المؤهل التعليمي</th>
                            <th>العمر</th>
                            <th>الراتب</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
            <div class="spinner"></div>
            <p>جاري تحميل البيانات...</p>
        </div>
    </div>

    <script src="./script.js"></script>
</body>
</html>